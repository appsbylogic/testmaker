<!DOCTYPE html>
<html>
<head>
  <title>Test Maker</title>
    <meta charset="utf-8">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="css/materialize.css"  media="screen,projection"/>

      <link type="text/css" rel="stylesheet" href="css/index.css"  />

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		
		<meta name="apple-mobile-web-app-capable" content="yes">

		<link rel="manifest" href="manifest.webmanifest">

		<link rel="apple-touch-icon" href="img/icon.png">
		<link href="splashscreens/iphone5_splash.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image" />
<link href="splashscreens/iphone6_splash.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image" />
<link href="splashscreens/iphoneplus_splash.png" media="(device-width: 621px) and (device-height: 1104px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image" />
<link href="splashscreens/iphonex_splash.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image" />
<link href="splashscreens/iphonexr_splash.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image" />
<link href="splashscreens/iphonexsmax_splash.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image" />
<link href="splashscreens/ipad_splash.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image" />
<link href="splashscreens/ipadpro1_splash.png" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image" />
<link href="splashscreens/ipadpro3_splash.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image" />
<link href="splashscreens/ipadpro2_splash.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image" />
		<meta name="apple-mobile-web-app-status-bar-style" content="default">

		<meta name="apple-mobile-web-app-title" content="Test Maker">

    <meta name="google-signin-client_id" content="764092259535-g6ekjbih2quqmdkvao2gs647b3tu3rin.apps.googleusercontent.com">
    <script src="https://apis.google.com/js/platform.js" ></script>

    
      <link rel="icon" href="img/icon.ico">
    
</head>
<body>
    <nav class="nav-extended">
    <div class="nav-wrapper  teal lighten-1">
      <a href="#!" class="brand-logo center">Test Maker</a>
      <a href="#" data-target="mobile-demo" class="sidenav-trigger show-on-medium-and-up"><i class="material-icons">menu</i></a>
      <img class="right circle " id="userImgSmall" src="img/img.jpg" style="width: 40px; height:auto; top: 50%; transform: translateY(-50%); position:absolute; right:15px; display:none">
    </div>
   
  </nav>

  <ul class="sidenav" id="mobile-demo">
    <li><div class="user-view">
        <div class="background  ">
            
          </div>
          
        <img class="circle" id="userImg" style="display: none;" src="img/img.jpg">
        <span id="user" class="black-text name"></span>
        <span id="mail" class="black-text email" style="display: none;">Your are not logged in</span>
        
      </div>
      <div class="container ">
          <a class="btn-flat right" id="sign-out" onclick="signOut()" style="display: none;">Sign out</a>
      </div>
      <div class="container">
          <div class="row">
            <div class="col s12 center">
                <a class="btn" id="signInBtn" onclick="signIn()">Sign in</a>
            </div>
              
          </div>
            
        </div>
    </li>
    <div class="divider"></div>
    <br>

    <li><a href="#" class="waves-effect  selectedTopic teal-text  text-darken-4"><i class="material-icons teal-text  text-darken-4">assignment</i>Test Maker</a></li>

    <li><a class="subheader topic">About and help</a></li>

    <li class="sidenav-footer"><a href="credits.html" class="waves-effect  "><i class="material-icons  ">help</i> Credits</a></li>


      
  </ul>
  <br>

  <div id="content"></div>

      
    

     


    

  <div class="mainMenu">
  <div class='container'>

    
  
    <div class="row">

      <div class="col s12 xl6 offset-xl3 ">

        <div class="card z-depth-2 grey lighten-5">         
              <div class="card-content">
                <div class="row">
                    <div class="card col xl6 offset-xl3 offset-s2 s8">
                      <div class="card-content">
                          <span class="card-title"><h6>Load your files...</h6></span>
                      
                      </div>

                    </div>
                </div>
                <div class="row">
                   
                  <div class=" center">
    
    
                      <input type="file" id="input" class="inputfile " onchange="inputRes(this.files)" />
                      <label for="input" id="fileQuestName" class="btn col s8 offset-s2 xl6 offset-xl3 white teal-text  "><i class="material-icons right">file_upload</i>Question File</label>
                              
                  </div>

                </div>

                <div class="row">

                  <div class=" center">

                          <input type="file" id="input2" class="inputfile" onchange="inputRes(this.files)"/>
                          <label for="input2" id="fileAnsName"  class="btn col s8 offset-s2 xl6 offset-xl3 white teal-text " ><i class="material-icons right">file_upload</i>Answer file</label>
                    

                  </div>

                </div>

                <div class="row">
               
    
                    <a class="col s8 offset-s2 xl6 offset-xl3 btn-large waves-effect waves-light " onclick="submit()"><i class="material-icons right">send</i>Submit</a>        
    
                  
                </div>


              </div>

           
          </div>
                

       
      </div>

    </div>

    

  </div>

  <div class="container previous testDiv ">

    <div class="row">

        <div class="input-field col s12 xl6 offset-xl3">
            <select class="storageSelect">
              
              <option value="0">Locally saved tests</option>
              <option value="1">Cloud saved tests</option>
            </select>
            <label>Saved tests</label>
          </div>

      <div class="col s12 xl6 offset-xl3">

          <div  class="localTest">

              <blockquote id="noTestMsg1">There are no saved tests</blockquote>
    
            </div>
            <div class="cloudTest">
    
                <blockquote id="noTestMsg2">There are no saved tests</blockquote>
      
              </div>
          </div>

    </div>

   

  </div>

</div>


    <div class="container test scale-transition  disappear">

        <div class="row">

            <div class="col s12 xl6 offset-xl3">
              <br>

                <a class="btn-floating btn-small waves-effect waves-light " id='back' onclick="backMenu()"><i class="material-icons">arrow_back</i>></a>

               
                <h6 class="right maxQuestions"></h6>
                <div class="card">

                    <div class="card-content">
                      
                        
                        <div class="row">

                            <div class="col s12">
                                
                                <p class="question flow-text">Loading...</p>
                                

                            </div>
                          </div>
                            
                            

                   
                            

                    </div>

                </div>

                <div class="card">

                        <div class="card-content">
    
                                <form action="#" class="form">
                                        <p>
                                          <label>
                                            <input name="group1" class="radio" value="0" type="radio"  />
                                            <span id="1">Loading...</span>
                                          </label>
                                        </p>
                                        <br>
                                        <p>
                                          <label>
                                            <input name="group1" value="1" class="radio"  type="radio" onclick="select(1)"/>
                                            <span id="2">Loading...</span>
                                          </label>
                                        </p>
                                        <br>
                                        <p>
                                          <label>
                                            <input  name="group1" class="radio"  value="2" type="radio"  onclick="select(2)"/>
                                            <span id="3">Loading...</span>
                                          </label>
                                        </p>
                                        <br>
                                        <p>
                                          <label>
                                            <input name="group1" value="3" class="radio"  type="radio"  onclick="select(3)"/>
                                            <span id="4">Loading...</span>
                                          </label>
                                        </p>
                                      </form>
                                      <br>

                                      

                                      <a class="waves-effect waves-light btn-large" onclick="check()">Check <i class="material-icons right" id="correct"> </i></a>
                                      <a class="waves-effect waves-light btn-large disabled right" id='nextQ' onclick="nextQuestion()">Next</a>
                                      
    
                        </div>


    
                    </div>
    

                    <a class="btn-floating  btn-medium waves-effect waves-light right" onclick='reset()'><i class="material-icons">replay</i></a>

                    <a class="btn-floating  btn-medium waves-effect waves-light modal-trigger" href="#modal1" ><i class="material-icons">search</i></a>



    </div>

</div>

</div>

<div id="modal1" class="modal">
  <div class="modal-content">
    <h4>Go to question...</h4>
    <form class="col s12">
      <div class="row">
        <div class="input-field col s12">
          <input placeholder="Question number" id="questionNumber" type="number" class="validate">
          
        </div>
      </div>
        </form>
  </div>
  <div class="modal-footer">
      <a href="#!" class="modal-close waves-effect waves-green btn-flat">Cancel</a>
    <a href="#!" class="modal-close waves-effect waves-green btn-flat" onclick="goTo()">Agree</a>
    
  </div>
</div>

<div id="modalName" class="modal">
  <div class="modal-content">
    <h4>Create test</h4>
    <form class="col s12">
      <div class="row">
        <div class="input-field col s12">
          <input placeholder="Name" id="testName"  class="validate" >
          
        </div>
      </div>
        </form>
  </div>
  <div class="modal-footer">
      <a href="#!" class="modal-close waves-effect waves-green btn-flat" onclick="modal.close()">Cancel</a>
    <a href="#!" class="modal-close waves-effect waves-green btn-flat" onclick="create()">Agree</a>
    
  </div>
</div>

<div id="modalFinal" class="modal">
    <div class="modal-content">
      <h4>Score</h4>
      <h5 id="score"></h5>
    </div>
    <div class="modal-footer">
      
      <a href="#!" class="modal-close waves-effect waves-green btn-flat" onclick="modal2.close()">Agree</a>
      
    </div>
  </div>

<div id="help" class="modal">
    <div class="modal-content">
      <h4>Help</h4>

      <ul>

        <li><blockquote>Attach 2 files, one with questions and one with answers.</blockquote></li>
        <li><blockquote>Write each question/answer on a separated line.</blockquote>
          </li>
          <li><blockquote>Make sure the answers and the questions are on the same lines (Question 1: lines1, answer 1: line 1)</blockquote></li>
      </ul>
      
      
      <div class="container">

        <div class="row">

          <div class="col s6">

              <div class="row">

                  <div class="col s12">
                      <p class="grey lighten-2 exampleTitle center-align" >Questions</p>
                  </div>

              </div>

            <p class="grey lighten-2 example" >1- </p>

            <p class="grey lighten-2 example" >2- </p>

            <p class="grey lighten-2 example" >3- </p>

          </div>

          <div class="col s6">

              <div class="row">

                  <div class="col s12">
                      <p class="grey lighten-2 exampleTitle center-align" >Answers</p>
                  </div>

              </div>

              <p class="grey lighten-2 example" >1- </p>
  
              <p class="grey lighten-2 example" >2- </p>
  
              <p class="grey lighten-2 example" >3- </p>
  
            </div>

        </div>

        <div class="row">

            <div class="col s12">
  
              
  
            </div>
  
          </div>

      </div>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-close waves-effect waves-green btn-flat">Agree</a>
    </div>
  </div>
 
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

    <script type="text/javascript" src="js/materialize.js"></script>

   

    <script type="text/javascript" src="pwabuilder-sw-register.js"></script>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/6.6.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.10.1/firebase-database.js"></script>

  <script src="js/test.js"></script>
  <script src="js/getProfile.js"></script>  

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

<script>
 
  
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyCwJ81iFm0V-bjg7ScQ7gDGJzELy9xS4bc",
    authDomain: "testmaker-1569278601638.firebaseapp.com",
    databaseURL: "https://testmaker-1569278601638.firebaseio.com",
    projectId: "testmaker-1569278601638",
    storageBucket: "",
    messagingSenderId: "764092259535",
    appId: "1:764092259535:web:5eed8204716f0c5268ebba"
  };
  // Initialize Firebase
  var defaultProject = firebase.initializeApp(firebaseConfig);

  console.log(defaultProject.database());  // "[DEFAULT]"

  // Option 1: Access Firebase services via the defaultProject variable

  var defaultDatabase = defaultProject.database();

  // Option 2: Access Firebase services using shorthand notation
  var provider = new firebase.auth.GoogleAuthProvider();
  defaultDatabase = firebase.database();
  if(userId != undefined){
    readDataBase();
    if(localStorage.getItem("storage") && localStorage.getItem("storage").replace(/\s/g, '')  != ''){
    
      $(".localTest").html(localStorage.getItem("storage"))
      $('#noTestMsg1').remove();

    }
  }else{
    if(localStorage.getItem("storage") && localStorage.getItem("storage").replace(/\s/g, '')  != '' ){
  
      $(".localTest").html(localStorage.getItem("storage"))
      $('#noTestMsg1').remove();
  }
}

  firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL)
  .then(function() {

    
    
    
   
  })
  .catch(function(error) {
    // Handle Errors here.
    var errorCode = error.code;
    var errorMessage = error.message;
  });
  firebase.auth().onAuthStateChanged(function(user) {
    console.log(user)
    if (user) {
    // User is signed in.
    onSignInCurrent(user)

  } else {
    // No user is signed in.
  }
});
</script>

    


</body>

</html>